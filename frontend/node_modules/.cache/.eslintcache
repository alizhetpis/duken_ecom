[{"/Users/alizhetpis/Documents/duken/frontend/src/index.js":"1","/Users/alizhetpis/Documents/duken/frontend/src/reportWebVitals.js":"2","/Users/alizhetpis/Documents/duken/frontend/src/App.js":"3","/Users/alizhetpis/Documents/duken/frontend/src/Store.js":"4","/Users/alizhetpis/Documents/duken/frontend/src/utils.js":"5","/Users/alizhetpis/Documents/duken/frontend/src/screens/ProductScreen.js":"6","/Users/alizhetpis/Documents/duken/frontend/src/screens/CartScreen.js":"7","/Users/alizhetpis/Documents/duken/frontend/src/screens/HomeScreen.js":"8","/Users/alizhetpis/Documents/duken/frontend/src/screens/ShippingAddressScreen.js":"9","/Users/alizhetpis/Documents/duken/frontend/src/screens/SignupScreen.js":"10","/Users/alizhetpis/Documents/duken/frontend/src/screens/PaymentMethodScreen.js":"11","/Users/alizhetpis/Documents/duken/frontend/src/screens/SigninScreen.js":"12","/Users/alizhetpis/Documents/duken/frontend/src/screens/PlaceOrderScreen.js":"13","/Users/alizhetpis/Documents/duken/frontend/src/screens/OrderScreen.js":"14","/Users/alizhetpis/Documents/duken/frontend/src/screens/OrderHistoryScreen.js":"15","/Users/alizhetpis/Documents/duken/frontend/src/screens/ProductListScreen.js":"16","/Users/alizhetpis/Documents/duken/frontend/src/screens/SearchScreen.js":"17","/Users/alizhetpis/Documents/duken/frontend/src/screens/ProfileScreen.js":"18","/Users/alizhetpis/Documents/duken/frontend/src/screens/DashboardScreen.js":"19","/Users/alizhetpis/Documents/duken/frontend/src/screens/ProductEditScreen.js":"20","/Users/alizhetpis/Documents/duken/frontend/src/screens/UserListScreen.js":"21","/Users/alizhetpis/Documents/duken/frontend/src/screens/OrderListScreen.js":"22","/Users/alizhetpis/Documents/duken/frontend/src/screens/ForgetPasswordScreen.js":"23","/Users/alizhetpis/Documents/duken/frontend/src/screens/MapScreen.js":"24","/Users/alizhetpis/Documents/duken/frontend/src/screens/ResetPasswordScreen.js":"25","/Users/alizhetpis/Documents/duken/frontend/src/screens/UserEditScreen.js":"26","/Users/alizhetpis/Documents/duken/frontend/src/screens/Categories.js":"27","/Users/alizhetpis/Documents/duken/frontend/src/components/ProtectedRoute.js":"28","/Users/alizhetpis/Documents/duken/frontend/src/components/AdminRoute.js":"29","/Users/alizhetpis/Documents/duken/frontend/src/components/SearchBox.js":"30","/Users/alizhetpis/Documents/duken/frontend/src/components/MessageBox.js":"31","/Users/alizhetpis/Documents/duken/frontend/src/components/Rating.js":"32","/Users/alizhetpis/Documents/duken/frontend/src/components/Product.js":"33","/Users/alizhetpis/Documents/duken/frontend/src/components/LoadingBox.js":"34","/Users/alizhetpis/Documents/duken/frontend/src/components/CheckoutSteps.js":"35","/Users/alizhetpis/Documents/duken/frontend/src/services/categoryService.js":"36"},{"size":915,"mtime":1680601014000,"results":"37","hashOfConfig":"38"},{"size":362,"mtime":1680601014000,"results":"39","hashOfConfig":"38"},{"size":10978,"mtime":1696783412251,"results":"40","hashOfConfig":"38"},{"size":2829,"mtime":1680601014000,"results":"41","hashOfConfig":"38"},{"size":151,"mtime":1696782351530,"results":"42","hashOfConfig":"38"},{"size":9189,"mtime":1680601014000,"results":"43","hashOfConfig":"38"},{"size":4356,"mtime":1680601014000,"results":"44","hashOfConfig":"38"},{"size":1937,"mtime":1680601014000,"results":"45","hashOfConfig":"38"},{"size":4155,"mtime":1680601014000,"results":"46","hashOfConfig":"38"},{"size":3106,"mtime":1680601014000,"results":"47","hashOfConfig":"38"},{"size":2092,"mtime":1680601014000,"results":"48","hashOfConfig":"38"},{"size":4625,"mtime":1696796526761,"results":"49","hashOfConfig":"38"},{"size":6411,"mtime":1680601014000,"results":"50","hashOfConfig":"38"},{"size":10872,"mtime":1680601014000,"results":"51","hashOfConfig":"38"},{"size":2977,"mtime":1680601014000,"results":"52","hashOfConfig":"38"},{"size":5926,"mtime":1680601014000,"results":"53","hashOfConfig":"38"},{"size":8860,"mtime":1680601014000,"results":"54","hashOfConfig":"38"},{"size":4956,"mtime":1696792218576,"results":"55","hashOfConfig":"38"},{"size":4076,"mtime":1680601014000,"results":"56","hashOfConfig":"38"},{"size":9522,"mtime":1696796209796,"results":"57","hashOfConfig":"38"},{"size":4062,"mtime":1680601014000,"results":"58","hashOfConfig":"38"},{"size":4480,"mtime":1680601014000,"results":"59","hashOfConfig":"38"},{"size":1591,"mtime":1680601014000,"results":"60","hashOfConfig":"38"},{"size":3588,"mtime":1680601014000,"results":"61","hashOfConfig":"38"},{"size":2187,"mtime":1680601014000,"results":"62","hashOfConfig":"38"},{"size":4122,"mtime":1680601014000,"results":"63","hashOfConfig":"38"},{"size":5967,"mtime":1680601014000,"results":"64","hashOfConfig":"38"},{"size":307,"mtime":1680601014000,"results":"65","hashOfConfig":"38"},{"size":323,"mtime":1680601014000,"results":"66","hashOfConfig":"38"},{"size":1073,"mtime":1680601014000,"results":"67","hashOfConfig":"38"},{"size":166,"mtime":1680601014000,"results":"68","hashOfConfig":"38"},{"size":1459,"mtime":1680601014000,"results":"69","hashOfConfig":"38"},{"size":1592,"mtime":1680601014000,"results":"70","hashOfConfig":"38"},{"size":225,"mtime":1680601014000,"results":"71","hashOfConfig":"38"},{"size":484,"mtime":1680601014000,"results":"72","hashOfConfig":"38"},{"size":684,"mtime":1680601014000,"results":"73","hashOfConfig":"38"},{"filePath":"74","messages":"75","suppressedMessages":"76","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"rzuh6c",{"filePath":"77","messages":"78","suppressedMessages":"79","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"80","messages":"81","suppressedMessages":"82","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"83","messages":"84","suppressedMessages":"85","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"86","messages":"87","suppressedMessages":"88","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"89","messages":"90","suppressedMessages":"91","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"92","messages":"93","suppressedMessages":"94","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"95","messages":"96","suppressedMessages":"97","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"98"},{"filePath":"99","messages":"100","suppressedMessages":"101","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"102","messages":"103","suppressedMessages":"104","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"105","messages":"106","suppressedMessages":"107","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"108","messages":"109","suppressedMessages":"110","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"111"},{"filePath":"112","messages":"113","suppressedMessages":"114","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"115","messages":"116","suppressedMessages":"117","errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"118"},{"filePath":"119","messages":"120","suppressedMessages":"121","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"122","messages":"123","suppressedMessages":"124","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"125","messages":"126","suppressedMessages":"127","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"128","messages":"129","suppressedMessages":"130","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"131"},{"filePath":"132","messages":"133","suppressedMessages":"134","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"135","messages":"136","suppressedMessages":"137","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"138"},{"filePath":"139","messages":"140","suppressedMessages":"141","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"142","messages":"143","suppressedMessages":"144","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"145","messages":"146","suppressedMessages":"147","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"148","messages":"149","suppressedMessages":"150","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"151"},{"filePath":"152","messages":"153","suppressedMessages":"154","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"155","messages":"156","suppressedMessages":"157","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"158","messages":"159","suppressedMessages":"160","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"161"},{"filePath":"162","messages":"163","suppressedMessages":"164","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"165","messages":"166","suppressedMessages":"167","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"168","messages":"169","suppressedMessages":"170","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"171","messages":"172","suppressedMessages":"173","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"174","messages":"175","suppressedMessages":"176","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"177","messages":"178","suppressedMessages":"179","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"180","messages":"181","suppressedMessages":"182","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"183","messages":"184","suppressedMessages":"185","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"186","messages":"187","suppressedMessages":"188","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/alizhetpis/Documents/duken/frontend/src/index.js",[],[],"/Users/alizhetpis/Documents/duken/frontend/src/reportWebVitals.js",[],[],"/Users/alizhetpis/Documents/duken/frontend/src/App.js",[],[],"/Users/alizhetpis/Documents/duken/frontend/src/Store.js",[],[],"/Users/alizhetpis/Documents/duken/frontend/src/utils.js",[],[],"/Users/alizhetpis/Documents/duken/frontend/src/screens/ProductScreen.js",[],[],"/Users/alizhetpis/Documents/duken/frontend/src/screens/CartScreen.js",[],[],"/Users/alizhetpis/Documents/duken/frontend/src/screens/HomeScreen.js",["189"],[],"import { useEffect, useReducer, useState } from 'react';\nimport axios from 'axios';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Product from '../components/Product';\nimport { Helmet } from 'react-helmet-async';\nimport LoadingBox from '../components/LoadingBox';\nimport MessageBox from '../components/MessageBox';\n// import data from '../data';\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case 'FETCH_REQUEST':\n      return { ...state, loading: true };\n    case 'FETCH_SUCCESS':\n      return { ...state, products: action.payload, loading: false };\n    case 'FETCH_FAIL':\n      return { ...state, loading: false, error: action.payload };\n    default:\n      return state;\n  }\n};\n\nfunction HomeScreen() {\n  const [{ loading, error, products }, dispatch] = useReducer(reducer, {\n    products: [],\n    loading: true,\n    error: '',\n  });\n  // const [products, setProducts] = useState([]);\n  useEffect(() => {\n    const fetchData = async () => {\n      dispatch({ type: 'FETCH_REQUEST' });\n      try {\n        const result = await axios.get('/api/products');\n        dispatch({ type: 'FETCH_SUCCESS', payload: result.data });\n      } catch (err) {\n        dispatch({ type: 'FETCH_FAIL', payload: err.message });\n      }\n\n      // setProducts(result.data);\n    };\n    fetchData();\n  }, []);\n  return (\n    <div>\n      <Helmet>\n        <title>Duken</title>\n      </Helmet>\n      <h1>Products</h1>\n      <div className=\"products\">\n        {loading ? (\n          <LoadingBox />\n        ) : error ? (\n          <MessageBox variant=\"danger\">{error}</MessageBox>\n        ) : (\n          <Row>\n            {products.map((product) => (\n              <Col key={product.slug} sm={6} md={4} lg={3} className=\"mb-3\">\n                <Product product={product}></Product>\n              </Col>\n            ))}\n          </Row>\n        )}\n      </div>\n    </div>\n  );\n}\nexport default HomeScreen;\n","/Users/alizhetpis/Documents/duken/frontend/src/screens/ShippingAddressScreen.js",[],[],"/Users/alizhetpis/Documents/duken/frontend/src/screens/SignupScreen.js",[],[],"/Users/alizhetpis/Documents/duken/frontend/src/screens/PaymentMethodScreen.js",[],[],"/Users/alizhetpis/Documents/duken/frontend/src/screens/SigninScreen.js",["190","191"],[],"import Axios from 'axios';\nimport { Link, useLocation, useNavigate } from 'react-router-dom';\nimport Container from 'react-bootstrap/Container';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport Modal from 'react-bootstrap/Modal';\nimport { Helmet } from 'react-helmet-async';\nimport { useContext, useState } from 'react';\nimport { Store } from '../Store';\nimport { toast } from 'react-toastify';\nimport { getError } from '../utils';\n\nexport default function SigninScreen() {\n  const navigate = useNavigate();\n  const { search } = useLocation();\n  const redirectInUrl = new URLSearchParams(search).get('redirect');\n  const redirect = redirectInUrl ? redirectInUrl : '/';\n\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [twoFactorToken, setTwoFactorToken] = useState('');\n  const [show2FAModal, setShow2FAModal] = useState(false);\n\n  const { state, dispatch: ctxDispatch } = useContext(Store);\n  const { userInfo } = state;\n\n  const finalizeLogin = (data) => {\n    ctxDispatch({ type: 'USER_SIGNIN', payload: data });\n    localStorage.setItem('userInfo', JSON.stringify(data));\n    navigate(redirect || '/');\n  };\n\n  const submitHandler = async (e) => {\n    e.preventDefault();\n    try {\n      const { data } = await Axios.post('/api/users/signin', { email, password });\n      console.log(\"Server Response:\", data);\n  \n      if (data.require2FA) {\n        console.log(\"2FA is required. Showing modal...\");\n        setShow2FAModal(true);  // Показать модальное окно 2FA\n      } else {\n        console.log(\"2FA is not required. Finalizing login...\");\n        finalizeLogin(data);  // Завершение процесса входа и перенаправление\n      }\n    } catch (err) {\n      console.log(\"Error during sign in:\", err);\n      toast.error(getError(err));\n    }\n  };\n  \n  \n  const handle2FASubmission = async () => {\n    try {\n      const { data } = await Axios.post('/api/users/verify-2fa', {\n        email,\n        twoFactorToken\n      });\n      finalizeLogin(data);  // Завершение процесса входа после успешной проверки 2FA\n      setShow2FAModal(false);\n    } catch (err) {\n      toast.error(\"Invalid 2FA code\");\n    }\n  };\n  \n  return (\n    <Container className=\"small-container\">\n      <Helmet>\n        <title>Sign In</title>\n      </Helmet>\n      <h1 className=\"my-3\">Sign In</h1>\n      <Form onSubmit={submitHandler}>\n        <Form.Group className=\"mb-3\" controlId=\"email\">\n          <Form.Label>Email</Form.Label>\n          <Form.Control\n            type=\"email\"\n            required\n            onChange={(e) => setEmail(e.target.value)}\n          />\n        </Form.Group>\n        <Form.Group className=\"mb-3\" controlId=\"password\">\n          <Form.Label>Password</Form.Label>\n          <Form.Control\n            type=\"password\"\n            required\n            onChange={(e) => setPassword(e.target.value)}\n          />\n        </Form.Group>\n        <div className=\"mb-3\">\n          <Button type=\"submit\">Sign In</Button>\n        </div>\n        <div className=\"mb-3\">\n          New customer?{' '}\n          <Link to={`/signup?redirect=${redirect}`}>Create your account</Link>\n        </div>\n        <div className=\"mb-3\">\n          Forget Password? <Link to={`/forget-password`}>Reset Password</Link>\n        </div>\n      </Form>\n\n      <Modal show={show2FAModal} onHide={() => setShow2FAModal(false)}>\n        <Modal.Header closeButton>\n          <Modal.Title>Two-factor authentication code</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <Form.Group className=\"mb-3\" controlId=\"twoFactorToken\">\n            <Form.Label>Enter code</Form.Label>\n            <Form.Control\n              type=\"text\"\n              required\n              onChange={(e) => setTwoFactorToken(e.target.value)}\n            />\n          </Form.Group>\n        </Modal.Body>\n        <Modal.Footer>\n          <Button variant=\"secondary\" onClick={() => setShow2FAModal(false)}>\n            Закрыть\n          </Button>\n          <Button variant=\"primary\" onClick={async () => {\n            try {\n              const { data } = await Axios.post('/api/users/signin', {\n                email,\n                password,\n                twoFactorToken\n              });\n              finalizeLogin(data);\n              setShow2FAModal(false);\n            } catch (err) {\n              toast.error(getError(err));\n            }\n          }}>\n            Войти\n          </Button>\n        </Modal.Footer>\n      </Modal>\n    </Container>\n  );\n}\n","/Users/alizhetpis/Documents/duken/frontend/src/screens/PlaceOrderScreen.js",[],[],"/Users/alizhetpis/Documents/duken/frontend/src/screens/OrderScreen.js",["192","193","194","195","196","197"],[],"import axios from 'axios';\nimport React, { useContext, useEffect, useReducer } from 'react';\nimport { PayPalButtons, usePayPalScriptReducer } from '@paypal/react-paypal-js';\nimport { Helmet } from 'react-helmet-async';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Button from 'react-bootstrap/Button';\nimport ListGroup from 'react-bootstrap/ListGroup';\nimport Card from 'react-bootstrap/Card';\nimport { Link } from 'react-router-dom';\nimport LoadingBox from '../components/LoadingBox';\nimport MessageBox from '../components/MessageBox';\nimport { Store } from '../Store';\nimport { getError } from '../utils';\nimport { toast } from 'react-toastify';\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case 'FETCH_REQUEST':\n      return { ...state, loading: true, error: '' };\n    case 'FETCH_SUCCESS':\n      return { ...state, loading: false, order: action.payload, error: '' };\n    case 'FETCH_FAIL':\n      return { ...state, loading: false, error: action.payload };\n    case 'PAY_REQUEST':\n      return { ...state, loadingPay: true };\n    case 'PAY_SUCCESS':\n      return { ...state, loadingPay: false, successPay: true };\n    case 'PAY_FAIL':\n      return { ...state, loadingPay: false };\n    case 'PAY_RESET':\n      return { ...state, loadingPay: false, successPay: false };\n\n    case 'DELIVER_REQUEST':\n      return { ...state, loadingDeliver: true };\n    case 'DELIVER_SUCCESS':\n      return { ...state, loadingDeliver: false, successDeliver: true };\n    case 'DELIVER_FAIL':\n      return { ...state, loadingDeliver: false };\n    case 'DELIVER_RESET':\n      return {\n        ...state,\n        loadingDeliver: false,\n        successDeliver: false,\n      };\n    default:\n      return state;\n  }\n}\nexport default function OrderScreen() {\n  const { state } = useContext(Store);\n  const { userInfo } = state;\n\n  const params = useParams();\n  const { id: orderId } = params;\n  const navigate = useNavigate();\n\n  const [\n    {\n      loading,\n      error,\n      order,\n      successPay,\n      loadingPay,\n      loadingDeliver,\n      successDeliver,\n    },\n    dispatch,\n  ] = useReducer(reducer, {\n    loading: true,\n    order: {},\n    error: '',\n    successPay: false,\n    loadingPay: false,\n  });\n\n  const [{ isPending }, paypalDispatch] = usePayPalScriptReducer();\n\n  function createOrder(data, actions) {\n    return actions.order\n      .create({\n        purchase_units: [\n          {\n            amount: { value: order.totalPrice },\n          },\n        ],\n      })\n      .then((orderID) => {\n        return orderID;\n      });\n  }\n\n  function onApprove(data, actions) {\n    return actions.order.capture().then(async function (details) {\n      try {\n        dispatch({ type: 'PAY_REQUEST' });\n        const { data } = await axios.put(\n          `/api/orders/${order._id}/pay`,\n          details,\n          {\n            headers: { authorization: `Bearer ${userInfo.token}` },\n          }\n        );\n        dispatch({ type: 'PAY_SUCCESS', payload: data });\n        toast.success('Order is paid');\n      } catch (err) {\n        dispatch({ type: 'PAY_FAIL', payload: getError(err) });\n        toast.error(getError(err));\n      }\n    });\n  }\n  function onError(err) {\n    toast.error(getError(err));\n  }\n\n  useEffect(() => {\n    const fetchOrder = async () => {\n      try {\n        dispatch({ type: 'FETCH_REQUEST' });\n        const { data } = await axios.get(`/api/orders/${orderId}`, {\n          headers: { authorization: `Bearer ${userInfo.token}` },\n        });\n        dispatch({ type: 'FETCH_SUCCESS', payload: data });\n      } catch (err) {\n        dispatch({ type: 'FETCH_FAIL', payload: getError(err) });\n      }\n    };\n\n    if (!userInfo) {\n      return navigate('/login');\n    }\n    if (\n      !order._id ||\n      successPay ||\n      successDeliver ||\n      (order._id && order._id !== orderId)\n    ) {\n      fetchOrder();\n      if (successPay) {\n        dispatch({ type: 'PAY_RESET' });\n      }\n      if (successDeliver) {\n        dispatch({ type: 'DELIVER_RESET' });\n      }\n    } else {\n      const loadPaypalScript = async () => {\n        const { data: clientId } = await axios.get('/api/keys/paypal', {\n          headers: { authorization: `Bearer ${userInfo.token}` },\n        });\n        paypalDispatch({\n          type: 'resetOptions',\n          value: {\n            'client-id': clientId,\n            currency: 'USD',\n          },\n        });\n        paypalDispatch({ type: 'setLoadingStatus', value: 'pending' });\n      };\n      loadPaypalScript();\n    }\n  }, [\n    order,\n    userInfo,\n    orderId,\n    navigate,\n    paypalDispatch,\n    successPay,\n    successDeliver,\n  ]);\n\n  async function deliverOrderHandler() {\n    try {\n      dispatch({ type: 'DELIVER_REQUEST' });\n      const { data } = await axios.put(\n        `/api/orders/${order._id}/deliver`,\n        {},\n        {\n          headers: { authorization: `Bearer ${userInfo.token}` },\n        }\n      );\n      dispatch({ type: 'DELIVER_SUCCESS', payload: data });\n      toast.success('Order is delivered');\n    } catch (err) {\n      toast.error(getError(err));\n      dispatch({ type: 'DELIVER_FAIL' });\n    }\n  }\n\n  return loading ? (\n    <LoadingBox></LoadingBox>\n  ) : error ? (\n    <MessageBox variant=\"danger\">{error}</MessageBox>\n  ) : (\n    <div>\n      <Helmet>\n        <title>Order {orderId}</title>\n      </Helmet>\n      <h1 className=\"my-3\">Order {orderId}</h1>\n      <Row>\n        <Col md={8}>\n          <Card className=\"mb-3\">\n            <Card.Body>\n              <Card.Title>Shipping</Card.Title>\n              <Card.Text>\n                <strong>Name:</strong> {order.shippingAddress.fullName} <br />\n                <strong>Address: </strong> {order.shippingAddress.address},\n                {order.shippingAddress.city}, {order.shippingAddress.postalCode}\n                ,{order.shippingAddress.country}\n                &nbsp;\n                {order.shippingAddress.location &&\n                  order.shippingAddress.location.lat && (\n                    <a\n                      target=\"_new\"\n                      href={`https://maps.google.com?q=${order.shippingAddress.location.lat},${order.shippingAddress.location.lng}`}\n                    >\n                      Show On Map\n                    </a>\n                  )}\n              </Card.Text>\n              {order.isDelivered ? (\n                <MessageBox variant=\"success\">\n                  Delivered at {order.deliveredAt}\n                </MessageBox>\n              ) : (\n                <MessageBox variant=\"danger\">Not Delivered</MessageBox>\n              )}\n            </Card.Body>\n          </Card>\n          <Card className=\"mb-3\">\n            <Card.Body>\n              <Card.Title>Payment</Card.Title>\n              <Card.Text>\n                <strong>Method:</strong> {order.paymentMethod}\n              </Card.Text>\n              {order.isPaid ? (\n                <MessageBox variant=\"success\">\n                  Paid at {order.paidAt}\n                </MessageBox>\n              ) : (\n                <MessageBox variant=\"danger\">Not Paid</MessageBox>\n              )}\n            </Card.Body>\n          </Card>\n\n          <Card className=\"mb-3\">\n            <Card.Body>\n              <Card.Title>Items</Card.Title>\n              <ListGroup variant=\"flush\">\n                {order.orderItems.map((item) => (\n                  <ListGroup.Item key={item._id}>\n                    <Row className=\"align-items-center\">\n                      <Col md={6}>\n                        <img\n                          src={item.image}\n                          alt={item.name}\n                          className=\"img-fluid rounded img-thumbnail\"\n                        ></img>{' '}\n                        <Link to={`/product/${item.slug}`}>{item.name}</Link>\n                      </Col>\n                      <Col md={3}>\n                        <span>{item.quantity}</span>\n                      </Col>\n                      <Col md={3}>{item.price} ₸</Col>\n                    </Row>\n                  </ListGroup.Item>\n                ))}\n              </ListGroup>\n            </Card.Body>\n          </Card>\n        </Col>\n        <Col md={4}>\n          <Card className=\"mb-3\">\n            <Card.Body>\n              <Card.Title>Order Summary</Card.Title>\n              <ListGroup variant=\"flush\">\n                <ListGroup.Item>\n                  <Row>\n                    <Col>Items</Col>\n                    <Col>{order.itemsPrice.toFixed(2)} ₸</Col>\n                  </Row>\n                </ListGroup.Item>\n                <ListGroup.Item>\n                  <Row>\n                    <Col>Shipping</Col>\n                    <Col>{order.shippingPrice.toFixed(2)} ₸</Col>\n                  </Row>\n                </ListGroup.Item>\n                <ListGroup.Item>\n                  <Row>\n                    <Col>Tax</Col>\n                    <Col>{order.taxPrice.toFixed(2)} ₸</Col>\n                  </Row>\n                </ListGroup.Item>\n                <ListGroup.Item>\n                  <Row>\n                    <Col>\n                      <strong> Order Total</strong>\n                    </Col>\n                    <Col>\n                      <strong>{order.totalPrice.toFixed(2)} ₸</strong>\n                    </Col>\n                  </Row>\n                </ListGroup.Item>\n                <ListGroup.Item>\n                  <div className=\"d-grid\">\n                    <Button type=\"button\">\n                      Pay {order.totalPrice.toFixed(2)} ₸\n                    </Button>\n                  </div>\n                  {loading && <LoadingBox></LoadingBox>}\n                </ListGroup.Item>\n                {/* {!order.isPaid && (\n                  <ListGroup.Item>\n                    {isPending ? (\n                      <LoadingBox />\n                    ) : (\n                      <div>\n                        <PayPalButtons\n                          createOrder={createOrder}\n                          onApprove={onApprove}\n                          onError={onError}\n                        ></PayPalButtons>\n                      </div>\n                    )}\n                    {loadingPay && <LoadingBox></LoadingBox>}\n                  </ListGroup.Item>\n                )} */}\n                {userInfo.isAdmin && order.isPaid && !order.isDelivered && (\n                  <ListGroup.Item>\n                    {loadingDeliver && <LoadingBox></LoadingBox>}\n                    <div className=\"d-grid\">\n                      <Button type=\"button\" onClick={deliverOrderHandler}>\n                        Deliver Order\n                      </Button>\n                    </div>\n                  </ListGroup.Item>\n                )}\n              </ListGroup>\n            </Card.Body>\n          </Card>\n        </Col>\n      </Row>\n    </div>\n  );\n}\n","/Users/alizhetpis/Documents/duken/frontend/src/screens/OrderHistoryScreen.js",[],[],"/Users/alizhetpis/Documents/duken/frontend/src/screens/ProductListScreen.js",[],[],"/Users/alizhetpis/Documents/duken/frontend/src/screens/SearchScreen.js",[],[],"/Users/alizhetpis/Documents/duken/frontend/src/screens/ProfileScreen.js",["198"],[],"import React, { useContext, useReducer, useState, useEffect } from 'react';\nimport { Helmet } from 'react-helmet-async';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport { Store } from '../Store';\nimport { toast } from 'react-toastify';\nimport { getError } from '../utils';\nimport axios from 'axios';\nimport QRCode from 'qrcode.react';\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case 'UPDATE_REQUEST':\n      return { ...state, loadingUpdate: true };\n    case 'UPDATE_SUCCESS':\n      return { ...state, loadingUpdate: false };\n    case 'UPDATE_FAIL':\n      return { ...state, loadingUpdate: false };\n\n    default:\n      return state;\n  }\n};\n\nexport default function ProfileScreen() {\n  const { state, dispatch: ctxDispatch } = useContext(Store);\n  const { userInfo } = state;\n  const [name, setName] = useState(userInfo.name);\n  const [email, setEmail] = useState(userInfo.email);\n  const [password, setPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n  const [enable2FA, setEnable2FA] = useState(\n    JSON.parse(localStorage.getItem('enable2FA')) || false\n  ); // Initialize with the value from local storage\n\n  const [{ loadingUpdate }, dispatch] = useReducer(reducer, {\n    loadingUpdate: false,\n  });\n\n  const [qrCodeDataUrl, setQRCodeDataUrl] = useState('');\n\n  const submitHandler = async (e) => {\n    e.preventDefault();\n  \n    // Данные, которые будут отправлены на сервер:\n    const userData = {\n      name,\n      email,\n      password,\n      confirmPassword,\n      enable2FA,\n    };\n  \n    // Логируем эти данные:\n    console.log(\"Sending the following data to the server:\", userData);\n  \n    try {\n      const { data } = await axios.put(\n        '/api/users/profile',\n        userData,\n        {\n          headers: { Authorization: `Bearer ${userInfo.token}` },\n        }\n      );\n      dispatch({\n        type: 'UPDATE_SUCCESS',\n      });\n      ctxDispatch({ type: 'USER_SIGNIN', payload: data });\n      localStorage.setItem('userInfo', JSON.stringify(data));\n      toast.success('User updated successfully');\n    } catch (err) {\n      dispatch({\n        type: 'FETCH_FAIL',\n      });\n      toast.error(getError(err));\n    }\n  };\n  \n\n  const toggle2FAHandler = () => {\n    if (!enable2FA) {\n      // Generate a secret for 2FA (you can modify this as needed)\n      const secret = 'your-secret-key';\n\n      // Generate the 2FA QR code URL\n      const qrCodeUrl = `otpauth://totp/Duken:${userInfo.email}?secret=${secret}&issuer=Duken`;\n\n      // Set the QR code data URL in state\n      setQRCodeDataUrl(qrCodeUrl);\n    } else {\n      // Clear the QR code data URL when disabling 2FA\n      setQRCodeDataUrl('');\n    }\n\n    // Toggle the 2FA status\n    setEnable2FA(!enable2FA);\n\n    // Store the updated 'enable2FA' state in local storage\n    localStorage.setItem('enable2FA', JSON.stringify(!enable2FA));\n  };\n\n  useEffect(() => {\n    // Cleanup function to clear the 'qrCodeDataUrl' when unmounting the component\n    return () => setQRCodeDataUrl('');\n  }, []);\n\n  return (\n    <div className=\"container small-container\">\n      <Helmet>\n        <title>User Profile</title>\n      </Helmet>\n      <h1 className=\"my-3\">User Profile</h1>\n      <form onSubmit={submitHandler}>\n        <Form.Group className=\"mb-3\" controlId=\"name\">\n          <Form.Label>Name</Form.Label>\n          <Form.Control\n            value={name}\n            onChange={(e) => setName(e.target.value)}\n            required\n          />\n        </Form.Group>\n        <Form.Group className=\"mb-3\" controlId=\"email\">\n          <Form.Label>Email</Form.Label>\n          <Form.Control\n            type=\"email\"\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n            required\n          />\n        </Form.Group>\n        <Form.Group className=\"mb-3\" controlId=\"password\">\n          <Form.Label>Password</Form.Label>\n          <Form.Control\n            type=\"password\"\n            onChange={(e) => setPassword(e.target.value)}\n          />\n        </Form.Group>\n        <Form.Group className=\"mb-3\" controlId=\"confirmPassword\">\n          <Form.Label>Confirm Password</Form.Label>\n          <Form.Control\n            type=\"password\"\n            onChange={(e) => setConfirmPassword(e.target.value)}\n          />\n        </Form.Group>\n        <Form.Group controlId=\"enable2FA\">\n          <Form.Check\n            type=\"switch\"\n            id=\"custom-switch\"\n            label=\"Enable 2FA\"\n            checked={enable2FA}\n            onChange={toggle2FAHandler}\n          />\n        </Form.Group>\n        <div className=\"mb-3\">\n          {/* Render the QR code using the 'QRCode' component */}\n          {qrCodeDataUrl && <QRCode value={qrCodeDataUrl} />}\n        </div>\n        <div className=\"mb-3\">\n          <Button type=\"submit\">Update</Button>\n        </div>\n      </form>\n    </div>\n  );\n}\n","/Users/alizhetpis/Documents/duken/frontend/src/screens/DashboardScreen.js",[],[],"/Users/alizhetpis/Documents/duken/frontend/src/screens/ProductEditScreen.js",["199","200","201"],[],"import React, { useContext, useEffect, useReducer, useState } from 'react';\n\nimport { useNavigate, useParams } from 'react-router-dom';\n\nimport { toast } from 'react-toastify';\n\nimport axios from 'axios';\n\nimport { Store } from '../Store';\n\nimport { getError } from '../utils';\n\nimport Container from 'react-bootstrap/Container';\n\nimport Form from 'react-bootstrap/Form';\n\nimport { Helmet } from 'react-helmet-async';\n\nimport LoadingBox from '../components/LoadingBox';\n\nimport MessageBox from '../components/MessageBox';\n\nimport Button from 'react-bootstrap/Button';\n\nimport { getCategories, createCategory } from '../services/categoryService';\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case 'FETCH_REQUEST':\n      return { ...state, loading: true };\n\n    case 'FETCH_SUCCESS':\n      return { ...state, loading: false };\n\n    case 'FETCH_FAIL':\n      return { ...state, loading: false, error: action.payload };\n\n    case 'UPDATE_REQUEST':\n      return { ...state, loadingUpdate: true };\n\n    case 'UPDATE_SUCCESS':\n      return { ...state, loadingUpdate: false };\n\n    case 'UPDATE_FAIL':\n      return { ...state, loadingUpdate: false };\n\n    case 'UPLOAD_REQUEST':\n      return { ...state, loadingUpload: true, errorUpload: '' };\n\n    case 'UPLOAD_SUCCESS':\n      return {\n        ...state,\n\n        loadingUpload: false,\n\n        errorUpload: '',\n      };\n\n    case 'UPLOAD_FAIL':\n      return { ...state, loadingUpload: false, errorUpload: action.payload };\n\n    default:\n      return state;\n  }\n};\n\nexport default function ProductEditScreen() {\n  const navigate = useNavigate();\n\n  const params = useParams(); // /product/:id\n\n  const { id: productId } = params;\n\n  const { state } = useContext(Store);\n\n  const { userInfo } = state;\n\n  const [{ loading, error, loadingUpdate, loadingUpload, errorUpload }, dispatch] = useReducer(reducer,\n     {\n      loading: true,\n      error: '',\n      loadingUpdate: false,\n      loadingUpload: false,\n      errorUpload: '',\n    });\n\n  const [name, setName] = useState('');\n\n  const [slug, setSlug] = useState('');\n\n  const [price, setPrice] = useState('');\n\n  const [image, setImage] = useState('');\n\n  const [images, setImages] = useState([]);\n\n  const [category, setCategory] = useState('');\n\n  const [countInStock, setCountInStock] = useState('');\n\n  const [brand, setBrand] = useState('');\n\n  const [description, setDescription] = useState('');\n\n  const [categories, setCategories] = useState([]);\n\n  const [newCategory, setNewCategory] = useState('');\n\n  const [updatedCategory, setUpdatedCategory] = useState('');\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        dispatch({ type: 'FETCH_REQUEST' });\n\n        const { data } = await axios.get(`/api/products/${productId}`);\n\n        setName(data.name);\n\n        setSlug(data.slug);\n\n        setPrice(data.price);\n\n        setImage(data.image);\n\n        setImages(data.images);\n\n        setCategory(data.category);\n\n        setCountInStock(data.countInStock);\n\n        setBrand(data.brand);\n\n        setDescription(data.description);\n\n        dispatch({ type: 'FETCH_SUCCESS' });\n      } catch (err) {\n        dispatch({\n          type: 'FETCH_FAIL',\n\n          payload: getError(err),\n        });\n      }\n    };\n\n    fetchData();\n  }, [productId]);\n\n  useEffect(() => {\n    const fetchCategories = async () => {\n      try {\n        const data = await getCategories();\n\n        setCategories(data);\n      } catch (error) {\n        console.error('Error fetching categories:', error);\n      }\n    };\n\n    fetchCategories();\n  }, []);\n\n  const submitHandler = async (e) => {\n    e.preventDefault();\n\n    let updatedCategory = category;\n\n    try {\n      if (category === 'other') {\n        const newCat = await createCategory(newCategory, userInfo.token);\n\n        updatedCategory = newCat.name;\n      }\n\n      dispatch({ type: 'UPDATE_REQUEST' });\n\n      console.log('Updated category:', updatedCategory); // Add this line for debugging\n\n      await axios.put(\n        `/api/products/${productId}`,\n\n        {\n          _id: productId,\n\n          name,\n\n          slug,\n\n          price,\n\n          image,\n\n          images,\n\n          category: updatedCategory,\n\n          brand,\n\n          countInStock,\n\n          description,\n        },\n\n        {\n          headers: { Authorization: `Bearer ${userInfo.token}` },\n        }\n      );\n\n      dispatch({\n        type: 'UPDATE_SUCCESS',\n      });\n\n      toast.success('Product updated successfully');\n\n      navigate('/admin/products');\n    } catch (err) {\n      toast.error(getError(err));\n\n      dispatch({ type: 'UPDATE_FAIL' });\n    }\n  };\n\n  const uploadFileHandler = async (e, forImages) => {\n    const file = e.target.files[0];\n\n    const bodyFormData = new FormData();\n\n    bodyFormData.append('file', file);\n\n    try {\n      dispatch({ type: 'UPLOAD_REQUEST' });\n\n      const { data } = await axios.post('/api/upload', bodyFormData, {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n\n          authorization: `Bearer ${userInfo.token}`,\n        },\n      });\n\n      dispatch({ type: 'UPLOAD_SUCCESS' });\n\n      if (forImages) {\n        setImages([...images, data.path]);\n    } else {\n        setImage(data.path);\n    }\n    \n\n      toast.success('Image uploaded successfully. click Update to apply it');\n    } catch (err) {\n      toast.error(getError(err));\n\n      dispatch({ type: 'UPLOAD_FAIL', payload: getError(err) });\n    }\n  };\n\n  const deleteFileHandler = async (fileName, f) => {\n    console.log(fileName, f);\n\n    console.log(images);\n\n    console.log(images.filter((x) => x !== fileName));\n\n    setImages(images.filter((x) => x !== fileName));\n\n    toast.success('Image removed successfully. click Update to apply it');\n  };\n\n  return (\n    <Container className=\"small-container\">\n      <Helmet>\n        <title>Edit Product ${productId}</title>\n      </Helmet>\n\n      <h1>Edit Product {productId}</h1>\n\n      {loading ? (\n        <LoadingBox></LoadingBox>\n      ) : error ? (\n        <MessageBox variant=\"danger\">{error}</MessageBox>\n      ) : (\n        <Form onSubmit={submitHandler}>\n          <Form.Group className=\"mb-3\" controlId=\"name\">\n            <Form.Label>Name</Form.Label>\n\n            <Form.Control\n              value={name}\n              onChange={(e) => setName(e.target.value)}\n              required\n            />\n          </Form.Group>\n\n          <Form.Group className=\"mb-3\" controlId=\"slug\">\n            <Form.Label>Slug</Form.Label>\n\n            <Form.Control\n              value={slug}\n              onChange={(e) => setSlug(e.target.value)}\n              required\n            />\n          </Form.Group>\n\n          <Form.Group className=\"mb-3\" controlId=\"name\">\n            <Form.Label>Price</Form.Label>\n\n            <Form.Control\n              value={price}\n              onChange={(e) => setPrice(e.target.value)}\n              required\n            />\n          </Form.Group>\n\n          <Form.Group className=\"mb-3\" controlId=\"image\">\n            <Form.Label>Image File</Form.Label>\n            <Form.Control\n              type=\"file\"\n              onChange={(e) => uploadFileHandler(e, false)}\n            />\n            {loadingUpload && <LoadingBox></LoadingBox>}\n            {errorUpload && (\n              <MessageBox variant=\"danger\">{errorUpload}</MessageBox>\n            )}\n          </Form.Group>\n\n\n          <Form.Group className=\"mb-3\" controlId=\"category\">\n            <Form.Label>Category</Form.Label>\n\n            <Form.Select\n              value={category}\n              onChange={(e) => setCategory(e.target.value)}\n              required\n            >\n              <option value=\"\">Select Category</option>\n\n              {categories.map((cat) => (\n                <option key={cat._id} value={cat.name}>\n                  {cat.name}\n                </option>\n              ))}\n\n              <option value=\"other\">Other</option>\n            </Form.Select>\n          </Form.Group>\n\n          {category === 'other' && (\n            <Form.Group className=\"mb-3\" controlId=\"newCategory\">\n              <Form.Label>New Category</Form.Label>\n\n              <Form.Control\n                value={newCategory}\n                onChange={(e) => setNewCategory(e.target.value)}\n                placeholder=\"Enter new category\"\n                required\n              />\n            </Form.Group>\n          )}\n\n          <Form.Group className=\"mb-3\" controlId=\"brand\">\n            <Form.Label>Brand</Form.Label>\n\n            <Form.Control\n              value={brand}\n              onChange={(e) => setBrand(e.target.value)}\n              required\n            />\n          </Form.Group>\n\n          <Form.Group className=\"mb-3\" controlId=\"countInStock\">\n            <Form.Label>Count In Stock</Form.Label>\n\n            <Form.Control\n              value={countInStock}\n              onChange={(e) => setCountInStock(e.target.value)}\n              required\n            />\n          </Form.Group>\n\n          <Form.Group className=\"mb-3\" controlId=\"description\">\n            <Form.Label>Description</Form.Label>\n\n            <Form.Control\n              value={description}\n              onChange={(e) => setDescription(e.target.value)}\n              required\n            />\n          </Form.Group>\n\n          <div className=\"mb-3\">\n            <Button disabled={loadingUpdate} type=\"submit\">\n              Update\n            </Button>\n\n            {loadingUpdate && <LoadingBox></LoadingBox>}\n          </div>\n        </Form>\n      )}\n    </Container>\n  );\n}\n","/Users/alizhetpis/Documents/duken/frontend/src/screens/UserListScreen.js",[],[],"/Users/alizhetpis/Documents/duken/frontend/src/screens/OrderListScreen.js",[],[],"/Users/alizhetpis/Documents/duken/frontend/src/screens/ForgetPasswordScreen.js",[],[],"/Users/alizhetpis/Documents/duken/frontend/src/screens/MapScreen.js",["202"],[],"import axios from 'axios';\nimport React, { useContext, useEffect, useRef, useState } from 'react';\nimport {\n  LoadScript,\n  GoogleMap,\n  StandaloneSearchBox,\n  Marker,\n} from '@react-google-maps/api';\nimport { useNavigate } from 'react-router-dom';\nimport { Store } from '../Store';\nimport Button from 'react-bootstrap/Button';\nimport { toast } from 'react-toastify';\n\nconst defaultLocation = { lat: 45.516, lng: -73.56 };\nconst libs = ['places'];\n\nexport default function MapScreen() {\n  const { state, dispatch: ctxDispatch } = useContext(Store);\n  const { userInfo } = state;\n  const navigate = useNavigate();\n  const [googleApiKey, setGoogleApiKey] = useState('');\n  const [center, setCenter] = useState(defaultLocation);\n  const [location, setLocation] = useState(center);\n\n  const mapRef = useRef(null);\n  const placeRef = useRef(null);\n  const markerRef = useRef(null);\n\n  const getUserCurrentLocation = () => {\n    if (!navigator.geolocation) {\n      alert('Geolocation os not supported by this browser');\n    } else {\n      navigator.geolocation.getCurrentPosition((position) => {\n        setCenter({\n          lat: position.coords.latitude,\n          lng: position.coords.longitude,\n        });\n        setLocation({\n          lat: position.coords.latitude,\n          lng: position.coords.longitude,\n        });\n      });\n    }\n  };\n  useEffect(() => {\n    const fetch = async () => {\n      const { data } = await axios('/api/keys/google', {\n        headers: { Authorization: `BEARER ${userInfo.token}` },\n      });\n      setGoogleApiKey(data.key);\n      getUserCurrentLocation();\n    };\n\n    fetch();\n    ctxDispatch({\n      type: 'SET_FULLBOX_ON',\n    });\n  }, [ctxDispatch]);\n\n  const onLoad = (map) => {\n    mapRef.current = map;\n  };\n  const onIdle = () => {\n    setLocation({\n      lat: mapRef.current.center.lat(),\n      lng: mapRef.current.center.lng(),\n    });\n  };\n\n  const onLoadPlaces = (place) => {\n    placeRef.current = place;\n  };\n  const onPlacesChanged = () => {\n    const place = placeRef.current.getPlaces()[0].geometry.location;\n    setCenter({ lat: place.lat(), lng: place.lng() });\n    setLocation({ lat: place.lat(), lng: place.lng() });\n  };\n\n  const onMarkerLoad = (marker) => {\n    markerRef.current = marker;\n  };\n\n  const onConfirm = () => {\n    const places = placeRef.current.getPlaces() || [{}];\n    ctxDispatch({\n      type: 'SAVE_SHIPPING_ADDRESS_MAP_LOCATION',\n      payload: {\n        lat: location.lat,\n        lng: location.lng,\n        address: places[0].formatted_address,\n        name: places[0].name,\n        vicinity: places[0].vicinity,\n        googleAddressId: places[0].id,\n      },\n    });\n    toast.success('location selected successfully.');\n    navigate('/shipping');\n  };\n  return (\n    <div className=\"full-box\">\n      <LoadScript libraries={libs} googleMapsApiKey={googleApiKey}>\n        <GoogleMap\n          id=\"smaple-map\"\n          mapContainerStyle={{ height: '100%', width: '100%' }}\n          center={center}\n          zoom={15}\n          onLoad={onLoad}\n          onIdle={onIdle}\n        >\n          <StandaloneSearchBox\n            onLoad={onLoadPlaces}\n            onPlacesChanged={onPlacesChanged}\n          >\n            <div className=\"map-input-box\">\n              <input type=\"text\" placeholder=\"Enter your address\"></input>\n              <Button type=\"button\" onClick={onConfirm}>\n                Confirm\n              </Button>\n            </div>\n          </StandaloneSearchBox>\n          <Marker position={location} onLoad={onMarkerLoad}></Marker>\n        </GoogleMap>\n      </LoadScript>\n    </div>\n  );\n}\n","/Users/alizhetpis/Documents/duken/frontend/src/screens/ResetPasswordScreen.js",[],[],"/Users/alizhetpis/Documents/duken/frontend/src/screens/UserEditScreen.js",[],[],"/Users/alizhetpis/Documents/duken/frontend/src/screens/Categories.js",["203","204","205"],[],"import React, { useContext, useEffect, useReducer, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport { Button, Container, Form, Table } from 'react-bootstrap';\nimport { Helmet } from 'react-helmet-async';\nimport { toast } from 'react-toastify';\nimport LoadingBox from '../components/LoadingBox';\nimport MessageBox from '../components/MessageBox';\nimport { Store } from '../Store';\nimport { getError } from '../utils';\n\n// Reducer для управления состоянием страницы\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case 'FETCH_REQUEST':\n      return { ...state, loading: true };\n    case 'FETCH_SUCCESS':\n      return { ...state, loading: false, categories: action.payload };\n    case 'FETCH_FAIL':\n      return { ...state, loading: false, error: action.payload };\n    default:\n      return state;\n  }\n};\n\nfunction Categories() {\n  const [{ loading, error, categories }, dispatch] = useReducer(reducer, {\n    loading: true,\n    categories: [],\n    error: '',\n  });\n\n  const { state } = useContext(Store);\n  const { userInfo } = state;\n\n  const navigate = useNavigate();\n  const [name, setName] = useState('');\n  const [selectedCategory, setSelectedCategory] = useState(null);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        dispatch({ type: 'FETCH_REQUEST' });\n        const { data } = await axios.get('/api/categories', {\n          headers: { Authorization: `Bearer ${userInfo.token}` },\n        });\n        dispatch({\n          type: 'FETCH_SUCCESS',\n          payload: data,\n        });\n      } catch (err) {\n        dispatch({\n          type: 'FETCH_FAIL',\n          payload: getError(err),\n        });\n      }\n    };\n    fetchData();\n  }, [userInfo]);\n\n  const submitHandler = async (e) => {\n    e.preventDefault();\n    try {\n      if (selectedCategory) {\n        const { data } = await axios.put(\n          `/api/categories/${selectedCategory._id}`,\n          { name },\n          {\n            headers: { Authorization: `Bearer ${userInfo.token}` },\n          }\n        );\n        toast.success('Category updated successfully');\n        setSelectedCategory(null);\n        setName('');\n        dispatch({\n          type: 'FETCH_SUCCESS',\n          payload: categories.map((x) => (x._id === data._id ? data : x)),\n        });\n      } else {\n        const { data } = await axios.post(\n          '/api/categories',\n          { name },\n          {\n            headers: { Authorization: `Bearer ${userInfo.token}` },\n          }\n        );\n        toast.success('Category created successfully');\n        setName('');\n        dispatch({ type: 'FETCH_SUCCESS', payload: [...categories, data] });\n      }\n    } catch (error) {\n      toast.error(getError(error));\n    }\n  };\n\n  const editHandler = (category) => {\n    setSelectedCategory(category);\n    setName(category.name);\n  };\n\n  const cancelEditHandler = () => {\n    setSelectedCategory(null);\n    setName('');\n  };\n\n  const deleteHandler = async (category) => {\n    if (window.confirm(`Are you sure to delete ${category.name}?`)) {\n      try {\n        await axios.delete(`/api/categories/${category._id}`, {\n          headers: { Authorization: `Bearer ${userInfo.token}` },\n        });\n        toast.success('Category deleted successfully');\n        dispatch({\n          type: 'FETCH_SUCCESS',\n          payload: categories.filter((x) => x._id !== category._id),\n        });\n      } catch (error) {\n        toast.error(getError(error));\n      }\n    }\n  };\n\n  return (\n    <div>\n      <Helmet>\n        <title>Categories</title>\n      </Helmet>\n      <h1>Categories</h1>\n      {loading ? (\n        <LoadingBox></LoadingBox>\n      ) : error ? (\n        <MessageBox variant=\"danger\">{error}</MessageBox>\n      ) : (\n        <>\n          <table className=\"table\">\n            <thead>\n              <tr>\n                <th>ID</th>\n                <th>CATEGORY</th>\n                <th>ACTIONS</th>\n              </tr>\n            </thead>\n            <tbody>\n              {categories.map((category) => (\n                <tr key={category._id}>\n                  <td>{category._id}</td>\n                  <td>{category.name}</td>\n                  <td>\n                    <Button\n                      type=\"button\"\n                      variant=\"light\"\n                      onClick={() => editHandler(category)}\n                    >\n                      Edit\n                    </Button>\n                    &nbsp;\n                    <Button\n                      type=\"button\"\n                      variant=\"light\"\n                      onClick={() => deleteHandler(category)}\n                    >\n                      Delete\n                    </Button>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n          <Form onSubmit={submitHandler} className=\"d-flex align-items-center\">\n            <Form.Control\n              type=\"text\"\n              placeholder=\"Category Name\"\n              value={name}\n              onChange={(e) => setName(e.target.value)}\n              className=\"mr-2\"\n              style={{ width: '400px', marginRight: '1rem' }}\n            />\n            {selectedCategory ? (\n              <>\n                <Button type=\"button\" className=\"mr-2\" onClick={submitHandler}>\n                  Update Category\n                </Button>\n                <Button\n                  type=\"button\"\n                  variant=\"light\"\n                  onClick={cancelEditHandler}\n                  className=\"mr-2\"\n                  style={{ marginLeft: '10px' }}\n                >\n                  Cancel\n                </Button>\n              </>\n            ) : (\n              <Button type=\"button\" onClick={submitHandler} variant=\"primary\">\n                Create Category\n              </Button>\n            )}\n          </Form>\n        </>\n      )}\n    </div>\n  );\n}\n\nexport default Categories;\n","/Users/alizhetpis/Documents/duken/frontend/src/components/ProtectedRoute.js",[],[],"/Users/alizhetpis/Documents/duken/frontend/src/components/AdminRoute.js",[],[],"/Users/alizhetpis/Documents/duken/frontend/src/components/SearchBox.js",[],[],"/Users/alizhetpis/Documents/duken/frontend/src/components/MessageBox.js",[],[],"/Users/alizhetpis/Documents/duken/frontend/src/components/Rating.js",[],[],"/Users/alizhetpis/Documents/duken/frontend/src/components/Product.js",[],[],"/Users/alizhetpis/Documents/duken/frontend/src/components/LoadingBox.js",[],[],"/Users/alizhetpis/Documents/duken/frontend/src/components/CheckoutSteps.js",[],[],"/Users/alizhetpis/Documents/duken/frontend/src/services/categoryService.js",[],[],{"ruleId":"206","severity":1,"message":"207","line":1,"column":33,"nodeType":"208","messageId":"209","endLine":1,"endColumn":41},{"ruleId":"206","severity":1,"message":"210","line":25,"column":11,"nodeType":"208","messageId":"209","endLine":25,"endColumn":19},{"ruleId":"206","severity":1,"message":"211","line":53,"column":9,"nodeType":"208","messageId":"209","endLine":53,"endColumn":28},{"ruleId":"206","severity":1,"message":"212","line":3,"column":10,"nodeType":"208","messageId":"209","endLine":3,"endColumn":23},{"ruleId":"206","severity":1,"message":"213","line":65,"column":7,"nodeType":"208","messageId":"209","endLine":65,"endColumn":17},{"ruleId":"206","severity":1,"message":"214","line":78,"column":12,"nodeType":"208","messageId":"209","endLine":78,"endColumn":21},{"ruleId":"206","severity":1,"message":"215","line":80,"column":12,"nodeType":"208","messageId":"209","endLine":80,"endColumn":23},{"ruleId":"206","severity":1,"message":"216","line":94,"column":12,"nodeType":"208","messageId":"209","endLine":94,"endColumn":21},{"ruleId":"206","severity":1,"message":"217","line":113,"column":12,"nodeType":"208","messageId":"209","endLine":113,"endColumn":19},{"ruleId":"206","severity":1,"message":"218","line":36,"column":12,"nodeType":"208","messageId":"209","endLine":36,"endColumn":25},{"ruleId":"206","severity":1,"message":"219","line":109,"column":10,"nodeType":"208","messageId":"209","endLine":109,"endColumn":25},{"ruleId":"206","severity":1,"message":"220","line":109,"column":27,"nodeType":"208","messageId":"209","endLine":109,"endColumn":45},{"ruleId":"206","severity":1,"message":"221","line":258,"column":9,"nodeType":"208","messageId":"209","endLine":258,"endColumn":26},{"ruleId":"222","severity":1,"message":"223","line":58,"column":6,"nodeType":"224","endLine":58,"endColumn":19,"suggestions":"225"},{"ruleId":"206","severity":1,"message":"226","line":4,"column":18,"nodeType":"208","messageId":"209","endLine":4,"endColumn":27},{"ruleId":"206","severity":1,"message":"227","line":4,"column":35,"nodeType":"208","messageId":"209","endLine":4,"endColumn":40},{"ruleId":"206","severity":1,"message":"228","line":36,"column":9,"nodeType":"208","messageId":"209","endLine":36,"endColumn":17},"no-unused-vars","'useState' is defined but never used.","Identifier","unusedVar","'userInfo' is assigned a value but never used.","'handle2FASubmission' is assigned a value but never used.","'PayPalButtons' is defined but never used.","'loadingPay' is assigned a value but never used.","'isPending' is assigned a value but never used.","'createOrder' is defined but never used.","'onApprove' is defined but never used.","'onError' is defined but never used.","'loadingUpdate' is assigned a value but never used.","'updatedCategory' is assigned a value but never used.","'setUpdatedCategory' is assigned a value but never used.","'deleteFileHandler' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'userInfo.token'. Either include it or remove the dependency array.","ArrayExpression",["229"],"'Container' is defined but never used.","'Table' is defined but never used.","'navigate' is assigned a value but never used.",{"desc":"230","fix":"231"},"Update the dependencies array to be: [ctxDispatch, userInfo.token]",{"range":"232","text":"233"},[1673,1686],"[ctxDispatch, userInfo.token]"]