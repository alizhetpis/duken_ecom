{"ast":null,"code":"/*\r\n  Ported to JavaScript by Lazar Laszlo 2011 \r\n  \r\n  lazarsoft@gmail.com, www.lazarsoft.info\r\n  \r\n*/\n\n/*\r\n*\r\n* Copyright 2007 ZXing authors\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\n\nvar qrcode = require('./qrcode')();\nfunction QRCodeDataBlockReader(blocks, version, numErrorCorrectionCode) {\n  this.blockPointer = 0;\n  this.bitPointer = 7;\n  this.dataLength = 0;\n  this.blocks = blocks;\n  this.numErrorCorrectionCode = numErrorCorrectionCode;\n  if (version <= 9) this.dataLengthMode = 0;else if (version >= 10 && version <= 26) this.dataLengthMode = 1;else if (version >= 27 && version <= 40) this.dataLengthMode = 2;\n  this.getNextBits = function (numBits) {\n    var bits = 0;\n    if (numBits < this.bitPointer + 1) {\n      // next word fits into current data block\n      var mask = 0;\n      for (var i = 0; i < numBits; i++) {\n        mask += 1 << i;\n      }\n      mask <<= this.bitPointer - numBits + 1;\n      bits = (this.blocks[this.blockPointer] & mask) >> this.bitPointer - numBits + 1;\n      this.bitPointer -= numBits;\n      return bits;\n    } else if (numBits < this.bitPointer + 1 + 8) {\n      // next word crosses 2 data blocks\n      var mask1 = 0;\n      for (var i = 0; i < this.bitPointer + 1; i++) {\n        mask1 += 1 << i;\n      }\n      bits = (this.blocks[this.blockPointer] & mask1) << numBits - (this.bitPointer + 1);\n      this.blockPointer++;\n      bits += this.blocks[this.blockPointer] >> 8 - (numBits - (this.bitPointer + 1));\n      this.bitPointer = this.bitPointer - numBits % 8;\n      if (this.bitPointer < 0) {\n        this.bitPointer = 8 + this.bitPointer;\n      }\n      return bits;\n    } else if (numBits < this.bitPointer + 1 + 16) {\n      // next word crosses 3 data blocks\n      var mask1 = 0; // mask of first block\n      var mask3 = 0; // mask of 3rd block\n      //bitPointer + 1 : number of bits of the 1st block\n      //8 : number of the 2nd block (note that use already 8bits because next word uses 3 data blocks)\n      //numBits - (bitPointer + 1 + 8) : number of bits of the 3rd block \n      for (var i = 0; i < this.bitPointer + 1; i++) {\n        mask1 += 1 << i;\n      }\n      var bitsFirstBlock = (this.blocks[this.blockPointer] & mask1) << numBits - (this.bitPointer + 1);\n      this.blockPointer++;\n      var bitsSecondBlock = this.blocks[this.blockPointer] << numBits - (this.bitPointer + 1 + 8);\n      this.blockPointer++;\n      for (var i = 0; i < numBits - (this.bitPointer + 1 + 8); i++) {\n        mask3 += 1 << i;\n      }\n      mask3 <<= 8 - (numBits - (this.bitPointer + 1 + 8));\n      var bitsThirdBlock = (this.blocks[this.blockPointer] & mask3) >> 8 - (numBits - (this.bitPointer + 1 + 8));\n      bits = bitsFirstBlock + bitsSecondBlock + bitsThirdBlock;\n      this.bitPointer = this.bitPointer - (numBits - 8) % 8;\n      if (this.bitPointer < 0) {\n        this.bitPointer = 8 + this.bitPointer;\n      }\n      return bits;\n    } else {\n      return 0;\n    }\n  };\n  this.NextMode = function () {\n    if (this.blockPointer > this.blocks.length - this.numErrorCorrectionCode - 2) return 0;else return this.getNextBits(4);\n  };\n  this.getDataLength = function (modeIndicator) {\n    var index = 0;\n    while (true) {\n      if (modeIndicator >> index == 1) break;\n      index++;\n    }\n    return this.getNextBits(qrcode.sizeOfDataLengthInfo[this.dataLengthMode][index]);\n  };\n  this.getRomanAndFigureString = function (dataLength) {\n    var length = dataLength;\n    var intData = 0;\n    var strData = \"\";\n    var tableRomanAndFigure = new Array('0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z', ' ', '$', '%', '*', '+', '-', '.', '/', ':');\n    do {\n      if (length > 1) {\n        intData = this.getNextBits(11);\n        var firstLetter = Math.floor(intData / 45);\n        var secondLetter = intData % 45;\n        strData += tableRomanAndFigure[firstLetter];\n        strData += tableRomanAndFigure[secondLetter];\n        length -= 2;\n      } else if (length == 1) {\n        intData = this.getNextBits(6);\n        strData += tableRomanAndFigure[intData];\n        length -= 1;\n      }\n    } while (length > 0);\n    return strData;\n  };\n  this.getFigureString = function (dataLength) {\n    var length = dataLength;\n    var intData = 0;\n    var strData = \"\";\n    do {\n      if (length >= 3) {\n        intData = this.getNextBits(10);\n        if (intData < 100) strData += \"0\";\n        if (intData < 10) strData += \"0\";\n        length -= 3;\n      } else if (length == 2) {\n        intData = this.getNextBits(7);\n        if (intData < 10) strData += \"0\";\n        length -= 2;\n      } else if (length == 1) {\n        intData = this.getNextBits(4);\n        length -= 1;\n      }\n      strData += intData;\n    } while (length > 0);\n    return strData;\n  };\n  this.get8bitByteArray = function (dataLength) {\n    var length = dataLength;\n    var intData = 0;\n    var output = new Array();\n    do {\n      intData = this.getNextBits(8);\n      output.push(intData);\n      length--;\n    } while (length > 0);\n    return output;\n  };\n  this.getKanjiString = function (dataLength) {\n    var length = dataLength;\n    var intData = 0;\n    var unicodeString = \"\";\n    do {\n      intData = getNextBits(13);\n      var lowerByte = intData % 0xC0;\n      var higherByte = intData / 0xC0;\n      var tempWord = (higherByte << 8) + lowerByte;\n      var shiftjisWord = 0;\n      if (tempWord + 0x8140 <= 0x9FFC) {\n        // between 8140 - 9FFC on Shift_JIS character set\n        shiftjisWord = tempWord + 0x8140;\n      } else {\n        // between E040 - EBBF on Shift_JIS character set\n        shiftjisWord = tempWord + 0xC140;\n      }\n\n      //var tempByte = new Array(0,0);\n      //tempByte[0] = (sbyte) (shiftjisWord >> 8);\n      //tempByte[1] = (sbyte) (shiftjisWord & 0xFF);\n      //unicodeString += new String(SystemUtils.ToCharArray(SystemUtils.ToByteArray(tempByte)));\n      unicodeString += String.fromCharCode(shiftjisWord);\n      length--;\n    } while (length > 0);\n    return unicodeString;\n  };\n  this.__defineGetter__(\"DataByte\", function () {\n    var output = new Array();\n    var MODE_NUMBER = 1;\n    var MODE_ROMAN_AND_NUMBER = 2;\n    var MODE_8BIT_BYTE = 4;\n    var MODE_KANJI = 8;\n    do {\n      var mode = this.NextMode();\n      //canvas.println(\"mode: \" + mode);\n      if (mode == 0) {\n        if (output.length > 0) break;else throw \"Empty data block\";\n      }\n      //if (mode != 1 && mode != 2 && mode != 4 && mode != 8)\n      //  break;\n      //}\n      if (mode != MODE_NUMBER && mode != MODE_ROMAN_AND_NUMBER && mode != MODE_8BIT_BYTE && mode != MODE_KANJI) {\n        /*          canvas.println(\"Invalid mode: \" + mode);\r\n        mode = guessMode(mode);\r\n        canvas.println(\"Guessed mode: \" + mode); */\n        throw \"Invalid mode: \" + mode + \" in (block:\" + this.blockPointer + \" bit:\" + this.bitPointer + \")\";\n      }\n      dataLength = this.getDataLength(mode);\n      if (dataLength < 1) throw \"Invalid data length: \" + dataLength;\n      //canvas.println(\"length: \" + dataLength);\n      switch (mode) {\n        case MODE_NUMBER:\n          //canvas.println(\"Mode: Figure\");\n          var temp_str = this.getFigureString(dataLength);\n          var ta = new Array(temp_str.length);\n          for (var j = 0; j < temp_str.length; j++) ta[j] = temp_str.charCodeAt(j);\n          output.push(ta);\n          break;\n        case MODE_ROMAN_AND_NUMBER:\n          //canvas.println(\"Mode: Roman&Figure\");\n          var temp_str = this.getRomanAndFigureString(dataLength);\n          var ta = new Array(temp_str.length);\n          for (var j = 0; j < temp_str.length; j++) ta[j] = temp_str.charCodeAt(j);\n          output.push(ta);\n          //output.Write(SystemUtils.ToByteArray(temp_sbyteArray2), 0, temp_sbyteArray2.Length);\n          break;\n        case MODE_8BIT_BYTE:\n          //canvas.println(\"Mode: 8bit Byte\");\n          //sbyte[] temp_sbyteArray3;\n          var temp_sbyteArray3 = this.get8bitByteArray(dataLength);\n          output.push(temp_sbyteArray3);\n          //output.Write(SystemUtils.ToByteArray(temp_sbyteArray3), 0, temp_sbyteArray3.Length);\n          break;\n        case MODE_KANJI:\n          //canvas.println(\"Mode: Kanji\");\n          //sbyte[] temp_sbyteArray4;\n          //temp_sbyteArray4 = SystemUtils.ToSByteArray(SystemUtils.ToByteArray(getKanjiString(dataLength)));\n          //output.Write(SystemUtils.ToByteArray(temp_sbyteArray4), 0, temp_sbyteArray4.Length);\n          var temp_str = this.getKanjiString(dataLength);\n          output.push(temp_str);\n          break;\n      }\n      //      \n      //canvas.println(\"DataLength: \" + dataLength);\n      //Console.out.println(dataString);\n    } while (true);\n    return output;\n  });\n}\nmodule.exports = QRCodeDataBlockReader;","map":{"version":3,"names":["qrcode","require","QRCodeDataBlockReader","blocks","version","numErrorCorrectionCode","blockPointer","bitPointer","dataLength","dataLengthMode","getNextBits","numBits","bits","mask","i","mask1","mask3","bitsFirstBlock","bitsSecondBlock","bitsThirdBlock","NextMode","length","getDataLength","modeIndicator","index","sizeOfDataLengthInfo","getRomanAndFigureString","intData","strData","tableRomanAndFigure","Array","firstLetter","Math","floor","secondLetter","getFigureString","get8bitByteArray","output","push","getKanjiString","unicodeString","lowerByte","higherByte","tempWord","shiftjisWord","String","fromCharCode","__defineGetter__","MODE_NUMBER","MODE_ROMAN_AND_NUMBER","MODE_8BIT_BYTE","MODE_KANJI","mode","temp_str","ta","j","charCodeAt","temp_sbyteArray3","module","exports"],"sources":["/Users/alizhetpis/Documents/duken/frontend/node_modules/jsqrcode/src/databr.js"],"sourcesContent":["/*\r\n  Ported to JavaScript by Lazar Laszlo 2011 \r\n  \r\n  lazarsoft@gmail.com, www.lazarsoft.info\r\n  \r\n*/\r\n\r\n/*\r\n*\r\n* Copyright 2007 ZXing authors\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*      http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\nvar qrcode = require('./qrcode')();\r\n\r\nfunction QRCodeDataBlockReader(blocks,  version,  numErrorCorrectionCode)\r\n{\r\n  this.blockPointer = 0;\r\n  this.bitPointer = 7;\r\n  this.dataLength = 0;\r\n  this.blocks = blocks;\r\n  this.numErrorCorrectionCode = numErrorCorrectionCode;\r\n  if (version <= 9)\r\n    this.dataLengthMode = 0;\r\n  else if (version >= 10 && version <= 26)\r\n    this.dataLengthMode = 1;\r\n  else if (version >= 27 && version <= 40)\r\n    this.dataLengthMode = 2;\r\n    \r\n  this.getNextBits = function( numBits)\r\n    {      \r\n      var bits = 0;\r\n      if (numBits < this.bitPointer + 1)\r\n      {\r\n        // next word fits into current data block\r\n        var mask = 0;\r\n        for (var i = 0; i < numBits; i++)\r\n        {\r\n          mask += (1 << i);\r\n        }\r\n        mask <<= (this.bitPointer - numBits + 1);\r\n        \r\n        bits = (this.blocks[this.blockPointer] & mask) >> (this.bitPointer - numBits + 1);\r\n        this.bitPointer -= numBits;\r\n        return bits;\r\n      }\r\n      else if (numBits < this.bitPointer + 1 + 8)\r\n      {\r\n        // next word crosses 2 data blocks\r\n        var mask1 = 0;\r\n        for (var i = 0; i < this.bitPointer + 1; i++)\r\n        {\r\n          mask1 += (1 << i);\r\n        }\r\n        bits = (this.blocks[this.blockPointer] & mask1) << (numBits - (this.bitPointer + 1));\r\n                this.blockPointer++;\r\n        bits += ((this.blocks[this.blockPointer]) >> (8 - (numBits - (this.bitPointer + 1))));\r\n        \r\n        this.bitPointer = this.bitPointer - numBits % 8;\r\n        if (this.bitPointer < 0)\r\n        {\r\n          this.bitPointer = 8 + this.bitPointer;\r\n        }\r\n        return bits;\r\n      }\r\n      else if (numBits < this.bitPointer + 1 + 16)\r\n      {\r\n        // next word crosses 3 data blocks\r\n        var mask1 = 0; // mask of first block\r\n        var mask3 = 0; // mask of 3rd block\r\n        //bitPointer + 1 : number of bits of the 1st block\r\n        //8 : number of the 2nd block (note that use already 8bits because next word uses 3 data blocks)\r\n        //numBits - (bitPointer + 1 + 8) : number of bits of the 3rd block \r\n        for (var i = 0; i < this.bitPointer + 1; i++)\r\n        {\r\n          mask1 += (1 << i);\r\n        }\r\n        var bitsFirstBlock = (this.blocks[this.blockPointer] & mask1) << (numBits - (this.bitPointer + 1));\r\n        this.blockPointer++;\r\n        \r\n        var bitsSecondBlock = this.blocks[this.blockPointer] << (numBits - (this.bitPointer + 1 + 8));\r\n        this.blockPointer++;\r\n        \r\n        for (var i = 0; i < numBits - (this.bitPointer + 1 + 8); i++)\r\n        {\r\n          mask3 += (1 << i);\r\n        }\r\n        mask3 <<= 8 - (numBits - (this.bitPointer + 1 + 8));\r\n        var bitsThirdBlock = (this.blocks[this.blockPointer] & mask3) >> (8 - (numBits - (this.bitPointer + 1 + 8)));\r\n        \r\n        bits = bitsFirstBlock + bitsSecondBlock + bitsThirdBlock;\r\n        this.bitPointer = this.bitPointer - (numBits - 8) % 8;\r\n        if (this.bitPointer < 0)\r\n        {\r\n          this.bitPointer = 8 + this.bitPointer;\r\n        }\r\n        return bits;\r\n      }\r\n      else\r\n      {\r\n        return 0;\r\n      }\r\n    }\r\n  this.NextMode=function()\r\n  {\r\n    if ((this.blockPointer > this.blocks.length - this.numErrorCorrectionCode - 2))\r\n      return 0;\r\n    else\r\n      return this.getNextBits(4);\r\n  }\r\n  this.getDataLength=function( modeIndicator)\r\n    {\r\n      var index = 0;\r\n      while (true)\r\n      {\r\n        if ((modeIndicator >> index) == 1)\r\n          break;\r\n        index++;\r\n      }\r\n      \r\n      return this.getNextBits(qrcode.sizeOfDataLengthInfo[this.dataLengthMode][index]);\r\n    }\r\n  this.getRomanAndFigureString=function( dataLength)\r\n    {\r\n      var length = dataLength;\r\n      var intData = 0;\r\n      var strData = \"\";\r\n      var tableRomanAndFigure = new Array('0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z', ' ', '$', '%', '*', '+', '-', '.', '/', ':');\r\n      do \r\n      {\r\n        if (length > 1)\r\n        {\r\n          intData = this.getNextBits(11);\r\n          var firstLetter = Math.floor(intData / 45);\r\n          var secondLetter = intData % 45;\r\n          strData += tableRomanAndFigure[firstLetter];\r\n          strData += tableRomanAndFigure[secondLetter];\r\n          length -= 2;\r\n        }\r\n        else if (length == 1)\r\n        {\r\n          intData = this.getNextBits(6);\r\n          strData += tableRomanAndFigure[intData];\r\n          length -= 1;\r\n        }\r\n      }\r\n      while (length > 0);\r\n      \r\n      return strData;\r\n    }\r\n  this.getFigureString=function( dataLength)\r\n    {\r\n      var length = dataLength;\r\n      var intData = 0;\r\n      var strData = \"\";\r\n      do \r\n      {\r\n        if (length >= 3)\r\n        {\r\n          intData = this.getNextBits(10);\r\n          if (intData < 100)\r\n            strData += \"0\";\r\n          if (intData < 10)\r\n            strData += \"0\";\r\n          length -= 3;\r\n        }\r\n        else if (length == 2)\r\n        {\r\n          intData = this.getNextBits(7);\r\n          if (intData < 10)\r\n            strData += \"0\";\r\n          length -= 2;\r\n        }\r\n        else if (length == 1)\r\n        {\r\n          intData = this.getNextBits(4);\r\n          length -= 1;\r\n        }\r\n        strData += intData;\r\n      }\r\n      while (length > 0);\r\n      \r\n      return strData;\r\n    }\r\n  this.get8bitByteArray=function( dataLength)\r\n    {\r\n      var length = dataLength;\r\n      var intData = 0;\r\n      var output = new Array();\r\n      \r\n      do \r\n      {\r\n        intData = this.getNextBits(8);\r\n        output.push( intData);\r\n        length--;\r\n      }\r\n      while (length > 0);\r\n      return output;\r\n    }\r\n    this.getKanjiString=function( dataLength)\r\n    {\r\n      var length = dataLength;\r\n      var intData = 0;\r\n      var unicodeString = \"\";\r\n      do \r\n      {\r\n        intData = getNextBits(13);\r\n        var lowerByte = intData % 0xC0;\r\n        var higherByte = intData / 0xC0;\r\n        \r\n        var tempWord = (higherByte << 8) + lowerByte;\r\n        var shiftjisWord = 0;\r\n        if (tempWord + 0x8140 <= 0x9FFC)\r\n        {\r\n          // between 8140 - 9FFC on Shift_JIS character set\r\n          shiftjisWord = tempWord + 0x8140;\r\n        }\r\n        else\r\n        {\r\n          // between E040 - EBBF on Shift_JIS character set\r\n          shiftjisWord = tempWord + 0xC140;\r\n        }\r\n        \r\n        //var tempByte = new Array(0,0);\r\n        //tempByte[0] = (sbyte) (shiftjisWord >> 8);\r\n        //tempByte[1] = (sbyte) (shiftjisWord & 0xFF);\r\n        //unicodeString += new String(SystemUtils.ToCharArray(SystemUtils.ToByteArray(tempByte)));\r\n                unicodeString += String.fromCharCode(shiftjisWord);\r\n        length--;\r\n      }\r\n      while (length > 0);\r\n      \r\n      \r\n      return unicodeString;\r\n    }\r\n\r\n  this.__defineGetter__(\"DataByte\", function()\r\n  {\r\n    var output = new Array();\r\n    var MODE_NUMBER = 1;\r\n      var MODE_ROMAN_AND_NUMBER = 2;\r\n      var MODE_8BIT_BYTE = 4;\r\n      var MODE_KANJI = 8;\r\n    do \r\n          {\r\n            var mode = this.NextMode();\r\n            //canvas.println(\"mode: \" + mode);\r\n            if (mode == 0)\r\n            {\r\n              if (output.length > 0)\r\n                break;\r\n              else\r\n                throw \"Empty data block\";\r\n            }\r\n            //if (mode != 1 && mode != 2 && mode != 4 && mode != 8)\r\n            //  break;\r\n            //}\r\n            if (mode != MODE_NUMBER && mode != MODE_ROMAN_AND_NUMBER && mode != MODE_8BIT_BYTE && mode != MODE_KANJI)\r\n            {\r\n              /*          canvas.println(\"Invalid mode: \" + mode);\r\n              mode = guessMode(mode);\r\n              canvas.println(\"Guessed mode: \" + mode); */\r\n              throw \"Invalid mode: \" + mode + \" in (block:\" + this.blockPointer + \" bit:\" + this.bitPointer + \")\";\r\n            }\r\n            dataLength = this.getDataLength(mode);\r\n            if (dataLength < 1)\r\n              throw \"Invalid data length: \" + dataLength;\r\n            //canvas.println(\"length: \" + dataLength);\r\n            switch (mode)\r\n            {\r\n              \r\n              case MODE_NUMBER: \r\n                //canvas.println(\"Mode: Figure\");\r\n                var temp_str = this.getFigureString(dataLength);\r\n                var ta = new Array(temp_str.length);\r\n                for(var j=0;j<temp_str.length;j++)\r\n                  ta[j]=temp_str.charCodeAt(j);\r\n                output.push(ta);\r\n                break;\r\n              \r\n              case MODE_ROMAN_AND_NUMBER: \r\n                //canvas.println(\"Mode: Roman&Figure\");\r\n                var temp_str = this.getRomanAndFigureString(dataLength);\r\n                var ta = new Array(temp_str.length);\r\n                for(var j=0;j<temp_str.length;j++)\r\n                  ta[j]=temp_str.charCodeAt(j);\r\n                output.push(ta );\r\n                //output.Write(SystemUtils.ToByteArray(temp_sbyteArray2), 0, temp_sbyteArray2.Length);\r\n                break;\r\n              \r\n              case MODE_8BIT_BYTE: \r\n                //canvas.println(\"Mode: 8bit Byte\");\r\n                //sbyte[] temp_sbyteArray3;\r\n                var temp_sbyteArray3 = this.get8bitByteArray(dataLength);\r\n                output.push(temp_sbyteArray3);\r\n                //output.Write(SystemUtils.ToByteArray(temp_sbyteArray3), 0, temp_sbyteArray3.Length);\r\n                break;\r\n              \r\n              case MODE_KANJI: \r\n                //canvas.println(\"Mode: Kanji\");\r\n                //sbyte[] temp_sbyteArray4;\r\n                //temp_sbyteArray4 = SystemUtils.ToSByteArray(SystemUtils.ToByteArray(getKanjiString(dataLength)));\r\n                //output.Write(SystemUtils.ToByteArray(temp_sbyteArray4), 0, temp_sbyteArray4.Length);\r\n                                var temp_str = this.getKanjiString(dataLength);\r\n                output.push(temp_str);\r\n                break;\r\n              }\r\n            //      \r\n            //canvas.println(\"DataLength: \" + dataLength);\r\n            //Console.out.println(dataString);\r\n          }\r\n          while (true);\r\n    return output;\r\n  });\r\n}\r\n\r\nmodule.exports = QRCodeDataBlockReader;"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}